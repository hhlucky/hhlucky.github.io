<!DOCTYPE html>
<html>

<head>
	<!-- Meta -->
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<meta name="generator" content="Jekyll">

	<title>Linux Learning</title>

	<!-- CSS & fonts -->
	<link rel="stylesheet" href="/css/main.css">
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900,400italic%7CSignika:700,300,400,600' rel='stylesheet' type='text/css'>

	<!-- RSS -->
	<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

</head>


<body>
	<div id="wrap">
	  	
	  	<!-- Navigation -->
	  	<nav id="nav">
	<div id="nav-list">
		<a href="/">Home</a>

		<!-- Nav pages -->
	  
	    
	      <a href="/about.html" title="About Me">About Me</a>
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
    
    <!-- Nav links -->
	  <a href="https://github.com/caterpillar/caterpillar.github.io/archive/master.zip">下载</a>
<a href="https://github.com/caterpillar/caterpillar.github.io">Blog on Github</a>

	</div>
  
  <!-- Nav footer -->
	
	  <footer>
	  <h6>Welcome to Stevent's Blog</h6>
	  <h6>QQ:917914437</h6>
</footer>

	

</nav>

    
    <!-- Icon menu -->
	  <a href="#" id="nav-menu">
	  	<div id="menu"></div>
	  </a>

      <!-- Header -->
      
        <header id="header">

	<a href="/">
		<img src="/img/favicon.png" alt="Steven's Blog">
	  <h1>Stevent's Blog</h1>
	</a>
</header>
      

    <!-- Main content -->
	  <div id="container">
		  
		<main>

			<article id="post-page">
	<h2>Linux Learning</h2>		
<!--	<time datetime="2015-06-27T00:00:00+08:00" class="by-line">27 Jun 2015</time> -->
	<time datetime="2015-06-27T00:00:00+08:00" class="by-line">06-27-2015</time>

	<br />
	<div class="content">

		<p>这是一篇关于linux常用命令的博文，主要记录我在学习中遇到的一些容易忘记的linux命令、用法以及注意点。不过，这里需要说明的是，我并不是一个linux的初学者。那么，为什么会有这篇博客呢？原因自己的linux学习基础不扎实，在有了几年linux系统使用经验后，仍然觉得力不从心。然而linux是一个优秀的且免费自由的操作系统这一点是毋庸置疑的，我当然希望自己能够更熟练、更高效的使用linux。所以，从今天开始，重新启程，从linux基础起，对linux的基础知识和用法作进一步的学习和研究，使基础的知识更扎实，同时捡起自己遗漏的知识点，并一一记录。所谓“学而时习之，不亦说乎”！</p>

<p>而这篇博客，正是最遗漏知识点的记录，相信这也是你容易忽略的但却很重要的linux使用技巧吧！闲话少絮，我们开始吧。</p>

<h2 id="terminal">Terminal的使用</h2>

<h3 id="terminal-1">常用Terminal使用技巧</h3>

<ul>
  <li>Ctr+P：回到上一个命令</li>
  <li>Ctr+R :快速反向查找命令</li>
  <li>Ctr+A：回到行首</li>
  <li>Ctr+E：回到行尾</li>
  <li>Ctr+D：向后删除一个字符</li>
  <li>Ctr+W：向前删除一个单词</li>
  <li>Ctr+向左：向前移动一个单词</li>
  <li>Ctr+向右：向后移动一个单词</li>
  <li>Ctr+l：清屏</li>
  <li>Ctr+u：删除光标前的所以字符</li>
</ul>

<p>设置命令行快捷键模式</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> <span class="nv">$ </span><span class="nb">set</span> -o vi <span class="c">#linux命令行快捷键设置为vi模式</span>
<span class="lineno">2</span> <span class="nv">$ </span><span class="nb">set</span> -o emacs <span class="c"># inux命令行快捷键设置为emacs模式（默认模式）</span></code></pre></div>

<h2 id="section">常用命令</h2>

<h3 id="ln">创建文件命令 <code>ln</code></h3>
<p>ln 命令用于创建文件链接，包括软链接和硬链接</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> <span class="nv">$ </span>ln -s source_file dest_file <span class="c">#创建软链接</span>
<span class="lineno">2</span> <span class="nv">$ </span>ln source_file dest_file <span class="c"># 创建硬链接</span></code></pre></div>

<p>软链接和硬链接的异同点如下：</p>

<ul>
  <li>文件的软链接类似与windows的快捷方式，对于文件的读写实际操作的是一个文件</li>
  <li>文件的硬链接是源文件的一个副本，与简单copy不同的是，硬链接的文件和源文件是数据同步的（两个文件inode是一致的，每一个正常的文件都有一个inode）</li>
  <li>另一个不同点是，硬链接是不可以夸磁盘分区的，而软链接则没有这个限制</li>
</ul>

<h3 id="umask">用户权限命令 <code>umask</code></h3>
<p>umask用于查看系统默认的创建文件的权限。umask执行的结果返回一串数字如<code>0022</code>，其中第一个0是一个权限特殊位，后面的‘0222’是用户权限位，但这是一个权限掩码值。那么，什么是权限掩码值类似与子网掩码，通过这个值来计算用户权限，计算方法是777减去022（<strong>对应位减，而不是算数减</strong>）得到的值是755，那么对应的系统默认创建文件的权限就是<code>rwxr-xr-r</code>。不过，通常的做法不需要这么麻烦来计算，而是用如下命令：</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> <span class="nv">$ </span><span class="nb">umask</span> -S
<span class="lineno">2</span> <span class="nv">u</span><span class="o">=</span>rwx,g<span class="o">=</span>rwx,o<span class="o">=</span>rx</code></pre></div>

<p>命令执行返回结果相当明了</p>

<p><em>注意：</em> linux系统有一条权限规则，那就是缺省创建的文件不能授予x（即执行）权限，所以真正创建的文件的默认权限是<code>rw-r--r--</code>
umask还可以用于修改默认创建文件权限，命令执行如下：</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> <span class="nv">$ </span><span class="nb">umask </span><span class="m">022</span> <span class="c">#这里的数字是用户权限位（也是一个权限掩码值）</span></code></pre></div>

<h3 id="whichwhereis">命令搜索命令<code>which</code>和<code>whereis</code></h3>
<p><code>which</code>和<code>whereis</code>用于显示系统命令所在的目录，绝对路径；不同的是which可以查找命令相应的别名，而whereis可以查找命令的帮助文档位置</p>

<h3 id="find">文件搜索命令<code>find</code></h3>
<p>find查询的基本原则，要节省系统资源开销</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> <span class="nv">$ </span>find -name file_name <span class="c">#根据文件名查找文件</span>
<span class="lineno">2</span> <span class="nv">$ </span>find -name *file_name* <span class="c">#</span>
<span class="lineno">3</span> <span class="nv">$ </span>find -name file_name??? <span class="c">#</span>
<span class="lineno">4</span> <span class="nv">$ </span>find -size file_size <span class="c">#根据文件大小查找文件，文件的大小的单位是block</span>
<span class="lineno">5</span> <span class="nv">$ </span>find -user file_owner <span class="c">#根据文件所有者进行查找</span>
<span class="lineno">6</span> <span class="nv">$ </span>find -type d <span class="c">#根据文件类型查找，f：二进制文件；d：目录；l：软链接文件</span>
<span class="lineno">7</span> <span class="nv">$ </span>find -inum <span class="c">#根据i节点（inode）查找文件</span></code></pre></div>

<blockquote>
  <p>一般1block=512B；+ 表示大于指定大小，- 表示小于指定大小 </p>
</blockquote>

<p>按时间查找比较复杂</p>

<ul>
  <li>按天查找 ctime、atime、mtime</li>
  <li>按分钟查找 cmin、amin、mmin</li>
  <li>c-change 改变，表示文件的属性被修改过，比如所有者、所属组、权限等</li>
  <li>a-access 访问</li>
  <li>m-modify 修改，表示文件内容被修改过</li>
  <li><code>-</code>表示多长时间之内，<code>+</code>超过多长时间</li>
</ul>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> <span class="nv">$ </span>find /etc -mmin -120 <span class="c">#在/etc目录下查找120分钟内被内容修改过的文件</span></code></pre></div>

<p>find命令可以用连接符实现多个条件组合查找文件</p>

<ul>
  <li><code>-a</code> and 表示逻辑与 <code>-o</code> or 表示逻辑或</li>
  <li><code>-exec</code> 使用格式为 find -name text.txt -exec [要执行替他命令] {} \;</li>
  <li><code>-ok</code> <code>-ok</code>与<code>-exec</code>的唯一区别是前者会询问确认</li>
</ul>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> <span class="nv">$ </span>find -name text.txt -exec ls -l <span class="o">{}</span> <span class="se">\;</span>  <span class="c">#查找文件名为text.txt的文件，并列出其详细信息</span></code></pre></div>

<h3 id="locate">文件搜索命令<code>locate</code></h3>
<p>locate用于搜索系统中的文件，但locate是在系统文件的数据库中查找文件，所以查找文件速度非常快
我们可以手动执行<code>updatedb</code>命令更新系统文件数据库，一般是定期更新的。需要注意的是locate只在linux系统中存在，在unix系统中不存在。</p>

<h3 id="grep"><code>grep</code></h3>
<p>在文件里面搜索字符串匹配的行并输出。</p>

<h3 id="help"><code>help</code></h3>
<p>如果用man查找不到命令帮助信息，有可能该命令是shell内置的命令。这时候就可以用help来查看该命令的帮助。</p>

<h3 id="section-1">打包解包压缩解压缩文件</h3>
<p><code>gzip</code> 是一个压缩文件命令（GNU zip），gzip的两个特点</p>

<ul>
  <li>只能压缩文件，不能压缩文件名</li>
  <li>压缩完文件后，源文件就不存在了</li>
</ul>

<p>解压缩可以用命令<code>gunzip</code>命令或<code>gzip -d</code></p>

<p><code>tar</code> 用于打包文件</p>

<p>“.tar.gz”为后缀的文件是用tar打包并用gzip压缩后的文件。代码示例</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> <span class="nv">$ </span>tar -zcvf file_name.tar.gz dir_name <span class="c"># 将dir_name目录的文件打包压缩为file_name.tar.gz</span>
<span class="lineno">2</span> <span class="nv">$ </span>tar -zxvf file_name.tar.gz  <span class="c"># 解压缩文件file_name.tar.gz</span></code></pre></div>

<p><code>file</code> 命令用于判断文件的类型，比如用于判断其是否是压缩打包的文件</p>

<p>zip 是一个windows和linux通用的文件压缩格式，<code>zip</code>可以压缩文件和目录，压缩目录是需要加-r参数,如<code>zip -r file_name.zip /etc</code></p>

<p>bz2 是zip的升级版，与zip的不同点是</p>

<ul>
  <li>bz2压缩比很高</li>
  <li>bz2加<code>-k</code>选项可以保留源文件</li>
</ul>

<h3 id="ping">网络命令<code>ping</code></h3>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> <span class="nv">$ </span>ping -c <span class="o">[</span>ping次数<span class="o">]</span> <span class="o">[</span>ip地址<span class="o">]</span>
<span class="lineno">2</span> <span class="nv">$ </span>ping -s <span class="o">[</span>数据包大小<span class="o">]</span> <span class="o">[</span>ip地址<span class="o">]</span></code></pre></div>

<h2 id="vivim">vi/vim使用</h2>

<h3 id="vi">vi的模式说明</h3>
<p><img src="/img/linux_learning_images/vi_img.png" alt="vi的模式说明图" /></p>

<h3 id="section-2">常用的编辑命令有</h3>

<p>切换到插入模式命令：</p>

<ul>
  <li>i  最常用的切换到插入模式命令</li>
  <li>a  也能切换到插入模式，确切地讲是在光标后面增加内容</li>
  <li>I  切换到插入模式，并且插入的内容在光标所在行的行首</li>
  <li>A  切换到插入模式，并且插入的内容在光标所在行的行末</li>
  <li>o  小写字母o，在光标所在行的下面插入一个空行，2o表示插入两个空行</li>
  <li>O  大写字母O，在光标所在行的上面插入一个空行，2O表示插入两个空行</li>
</ul>

<p>清除文本命令（命令模式）：</p>

<ul>
  <li>cc 改变整行，即将整行内容清掉，同时进入编辑模式</li>
  <li>C  从光标开始直至行末的内容被清掉，同时进入编辑模式</li>
</ul>

<p>替换文本命令（命令模式）：</p>

<ul>
  <li>r  将光标处的字符替换，然后自动切回命令模式</li>
  <li>R  从光标处开始字符替换，直到按Esc才切回命令模式</li>
  <li>s  替换光标所在处的字符，可以输入任意多个字符，直到按Esc才切回命令模式，前面可以带数字，比如2s，表示替换光标处开始往右的两个字符</li>
  <li>S  替换光标所在的行，可以输入任意多个字符，直到按Esc才切回命令模式</li>
  <li>:%s/[old]/[new]/g       用字符串new替换old，/g表示全局替换，不会询问；而/c表示询问是否执行替换</li>
</ul>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> :n1,n2s/^/#/g  <span class="c">#从行n1到行n1添加注释符#</span>
<span class="lineno">2</span> :n1,n2s/^#//g  <span class="c">#删除从行n1到行n1的注释符#</span>
<span class="lineno">3</span> :n1,n2s/^<span class="se">\/\/</span>/g  <span class="c">#删除从行n1到行n1的注释符\\</span></code></pre></div>

<p>删除文本命令（命令模式）：</p>

<ul>
  <li>x  删除当前光标所在的字符</li>
  <li>nx 删除当前光标开始往右的n个字符</li>
  <li>X  删除当前光标所在处往左一位的字符</li>
  <li>nX 删除当前光标左边n个字符，光标所在处的字符不会被删</li>
  <li>D  同C，但不进入编辑模式</li>
  <li>gG 删除当前行到文件末尾的所以行删除</li>
  <li>d0 删除当前行从行首到光标之间的所有字符，光标所在处的字符不会被删</li>
  <li>dd 删除当前整行</li>
  <li>:nd  删除第n行</li>
  <li>:.d   删除当前行</li>
  <li>:$d  删除最后一行</li>
  <li>:’ad  删除带有标记a的行</li>
  <li>:m,nd 删除第m行到第n行</li>
</ul>

<p>复制命令（命令模式）：</p>

<ul>
  <li>y</li>
  <li>Y或yy 复制当前行</li>
  <li>dd 剪切当前行</li>
  <li>[n]dd 剪切当前行以下n行</li>
  <li>p或P 粘贴在当前光标所在行下或行上</li>
</ul>

<p>命令撤消操作</p>

<ul>
  <li>u   撤消最后一次修改  </li>
  <li>U   撤消当前行的所有修改</li>
  <li>.   重复最后一次修改  </li>
  <li>,   以相反的方向重复前面的f、F、t或T查找命令 </li>
  <li>;   重复前面的f、F、t或T查找命令  </li>
  <li>“np   取回最后第n次的删除(缓冲区中存有一定次数的删除内容，一般为9)</li>
  <li>n   重复前面的/或?查找命令  </li>
  <li>N  以相反方向重复前面的/或?命令</li>
</ul>

<p>其他命令</p>

<ul>
  <li>:wq 表示保存退出</li>
  <li>ZZ 表示保存退出</li>
  <li>:! [系统命令] 在vi里执行系统命令</li>
  <li>:r ![系统命令] 导入系统命令执行的结果</li>
  <li>:r [文件名] 导入文件名</li>
  <li>:map [快捷键] [要触发的操作] 定义快捷键</li>
  <li>:ab [简写] [实际要输入的内容] 定义一些snep</li>
</ul>


		
	</div>
</article>



	  </main>
		
		  <!-- Pagination links -->
      

	  </div>
	    
	    <!-- Footer -->
	    <footer><span>@2015 - Steven Lee</span></footer>

	    <!-- Script -->
      <script src="/js/main.js"></script>	


	</div>
</body>
</html>
