<!DOCTYPE html>
<html>

<head>
	<!-- Meta -->
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<meta name="generator" content="Jekyll">

	<title>让pandoc输出pdf时支持中文</title>

	<!-- CSS & fonts -->
	<link rel="stylesheet" href="/css/main.css">
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900,400italic%7CSignika:700,300,400,600' rel='stylesheet' type='text/css'>

	<!-- RSS -->
	<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

</head>


<body>
	<div id="wrap">
	  	
	  	<!-- Navigation -->
	  	<nav id="nav">
	<div id="nav-list">
		<a href="/">Home</a>

		<!-- Nav pages -->
	  
	    
	      <a href="/about.html" title="About Me">About Me</a>
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
    
    <!-- Nav links -->
	  <a href="https://github.com/caterpillar/caterpillar.github.io/archive/master.zip">下载</a>
<a href="https://github.com/caterpillar/caterpillar.github.io">Blog on Github</a>

	</div>
  
  <!-- Nav footer -->
	
	  <footer>
	  <h6>Welcome to Stevent's Blog</h6>
	  <h6>QQ:917914437</h6>
</footer>

	

</nav>

    
    <!-- Icon menu -->
	  <a href="#" id="nav-menu">
	  	<div id="menu"></div>
	  </a>

      <!-- Header -->
      
        <header id="header">

	<a href="/">
		<img src="/img/favicon.png" alt="Steven's Blog">
	  <h1>Stevent's Blog</h1>
	</a>
</header>
      

    <!-- Main content -->
	  <div id="container">
		  
		<main>

			<article id="post-page">
	<h2>让pandoc输出pdf时支持中文</h2>		
<!--	<time datetime="2015-08-10T00:00:00+08:00" class="by-line">10 Aug 2015</time> -->
	<time datetime="2015-08-10T00:00:00+08:00" class="by-line">08-10-2015</time>

	<br />
	<div class="content">

		<p>主机环境为：Ubuntu 12.04 LTS。对于RH系列，yum安装包的名称可能会有不同，不过yum联想能力比较强，应该不是问题。</p>

<h3 id="pandoctex-live">安装pandoc，安装tex-live</h3>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> apt-get install pandoc texlive texlive-latex-extra texlive-latex-recommanded</code></pre></div>

<p>注意，如果要用beamer生成幻灯片的话，则要从cabal安装。</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> apt-get install cabal-install
<span class="lineno">2</span> cabal update
<span class="lineno">3</span> cabal install pandoc
<span class="lineno">4</span> <span class="nb">echo</span> <span class="s2">&quot;export PATH=&quot;</span><span class="nv">$HOME</span>/.cabal/bin:<span class="nv">$PATH</span><span class="err">&quot;</span> &gt;&gt; ~/.bashrc</code></pre></div>

<h3 id="section">安装中文字体</h3>

<p>可以用“fc-list”命令查看已安装字体。使用如下命令安装gnome中文字体。</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> apt-get install apt-get install language-pack-gnome-zh*</code></pre></div>

<p>如果有ttf文件，比如Windows的字体文件在（Windows\fonts）下，双击即可安装。</p>

<h3 id="latex">自定义latex模板</h3>

<p>使用下面命令将pandoc标准模板导出：</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> pandoc -D latex &gt; template.tex</code></pre></div>

<p>在模板中找到”% if luatex or xetex”，在该语句下面插入如下代码：</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> % SUPPORT <span class="k">for</span> Chinese
<span class="lineno">2</span>   <span class="se">\u</span>sepackage<span class="o">[</span>boldfont,slantfont,CJKsetspaces,CJKchecksingle<span class="o">]{</span>xeCJK<span class="o">}</span>
<span class="lineno">3</span>   <span class="se">\u</span>sepackage<span class="o">{</span>fontspec,xltxtra,xunicode<span class="o">}</span>
<span class="lineno">4</span>   <span class="se">\d</span>efaultfontfeatures<span class="o">{</span><span class="nv">Mapping</span><span class="o">=</span>tex-text,Scale<span class="o">=</span>MatchLowercase<span class="o">}</span>
<span class="lineno">5</span> 
<span class="lineno">6</span>   <span class="se">\p</span>unctstyle<span class="o">{</span>quanjiao<span class="o">}</span>
<span class="lineno">7</span>   <span class="se">\s</span>etCJKmainfont<span class="o">{</span>文泉驿微米黑<span class="o">}</span> 
<span class="lineno">8</span>   <span class="se">\s</span>etCJKsansfont<span class="o">{</span>KaiTi<span class="o">}</span>
<span class="lineno">9</span>   <span class="se">\s</span>etCJKmonofont<span class="o">{</span>SimSun<span class="o">}</span></code></pre></div>

<p>其中”\setCJKmainfont”设置字体部分，根据系统已安装字体自行修改。</p>

<h3 id="pandoc">配置pandoc命令参数</h3>

<p>在.bashrc下添加如下代码</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="lineno">1</span> <span class="nb">alias </span><span class="nv">pandoc</span><span class="o">=</span><span class="s2">&quot;pandoc --template=$HOME/Templates/template.tex --latex-engine=xelatex&quot;</span></code></pre></div>

<p>其中，template参数表示pandoc使用的自定义模板路径，我将它放在~/Templates下。</p>

<p>使用xelatex作为latex引擎，它可以直接使用系统已安装的字体，非常方便。</p>

		
	</div>
</article>



	  </main>
		
		  <!-- Pagination links -->
      

	  </div>
	    
	    <!-- Footer -->
	    <footer><span>@2015 - Steven Lee</span></footer>

	    <!-- Script -->
      <script src="/js/main.js"></script>	


	</div>
</body>
</html>
