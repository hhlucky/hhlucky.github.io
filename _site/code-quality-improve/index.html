<!DOCTYPE html>
<html>

<head>
	<!-- Meta -->
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<meta name="generator" content="Jekyll">

	<title>code quality improve</title>

	<!-- CSS & fonts -->
	<link rel="stylesheet" href="/css/main.css">
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900,400italic%7CSignika:700,300,400,600' rel='stylesheet' type='text/css'>

	<!-- RSS -->
	<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

</head>


<body>
	<div id="wrap">
	  	
	  	<!-- Navigation -->
	  	<nav id="nav">
	<div id="nav-list">
		<a href="/">Home</a>

		<!-- Nav pages -->
	  
	    
	      <a href="/about.html" title="About Me">About Me</a>
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
    
    <!-- Nav links -->
	  <a href="https://github.com/caterpillar/caterpillar.github.io/archive/master.zip">下载</a>
<a href="https://github.com/caterpillar/caterpillar.github.io">Blog on Github</a>

	</div>
  
  <!-- Nav footer -->
	
	  <footer>
	  <h6>Welcome to Stevent's Blog</h6>
	  <h6>QQ:917914437</h6>
</footer>

	

</nav>

    
    <!-- Icon menu -->
	  <a href="#" id="nav-menu">
	  	<div id="menu"></div>
	  </a>

      <!-- Header -->
      
        <header id="header">

	<a href="/">
		<img src="/img/favicon.png" alt="Steven's Blog">
	  <h1>Stevent's Blog</h1>
	</a>
</header>
      

    <!-- Main content -->
	  <div id="container">
		  
		<main>

			<article id="post-page">
	<h2>code quality improve</h2>		
<!--	<time datetime="2015-06-20T00:00:00+08:00" class="by-line">20 Jun 2015</time> -->
	<time datetime="2015-06-20T00:00:00+08:00" class="by-line">06-20-2015</time>

	<br />
	<div class="content">

		<h2 id="section">坏的代码</h2>

<ul>
  <li>重复的代码(Duplicated Code)</li>
</ul>

<p>改善方法</p>

<blockquote>
  <ol>
    <li>Extract Method</li>
    <li>Pull Up Method</li>
    <li>Template Mehtod</li>
    <li>Extract Class</li>
    <li>过滤器</li>
    <li>面向切面</li>
    <li>统一的异常处理</li>
  </ol>
</blockquote>

<ul>
  <li>过长的函数(Long Method)</li>
</ul>

<blockquote>
  <p>每当感觉需要以注释说明点什么的时候,可以把需要说明的东西写进一个独立的函数,并以其用途命名（Extract Method）</p>
</blockquote>

<ul>
  <li>
    <p>过大的类(Large Class)</p>
  </li>
  <li>
    <p>过长的参数列(Long Parameter List)</p>
  </li>
</ul>

<p><img src="/img/code_quality_improve_images/代码质量改善.png" alt="代码质量改善" /></p>

<ul>
  <li>代码的不整洁</li>
</ul>

<blockquote>
  <p>空格  换行 一行太长，太多的方法调用</p>
</blockquote>

<p><img src="/img/code_quality_improve_images/代码质量改善2.png" alt="代码质量改善2" />
<img src="/img/code_quality_improve_images/代码质量改善4.png" alt="代码质量改善4" /></p>

<p><em>对比一下(执行了代码格式化后)</em></p>

<p><img src="/img/code_quality_improve_images/代码质量改善3.png" alt="代码质量改善3" /></p>

<blockquote>
  <ol>
    <li>养成良好的编码习惯</li>
    <li>经常使用代码格式化</li>
  </ol>
</blockquote>

<h2 id="section-1">注意事项</h2>

<ul>
  <li>多使用临时变量,并给临时变量取一个好的名字 意义明确</li>
  <li>使用的时候再申明临时变量</li>
</ul>

<p><img src="/img/code_quality_improve_images/代码质量改善1.png" alt="代码质量改善1" /></p>

<blockquote>
  <ol>
    <li>易读</li>
    <li>节省内存</li>
  </ol>
</blockquote>

<ul>
  <li>使用基本数据类型的对象类型</li>
  <li>分层结构体系</li>
</ul>

<p><img src="/img/code_quality_improve_images/代码质量改善5.png" alt="代码质量改善5" /></p>

<blockquote>
  <ol>
    <li>Controller 层 ：web参数处理</li>
    <li>Service层：业务逻辑</li>
    <li>Dao或Mapper层：数据增删改查</li>
  </ol>
</blockquote>

<ul>
  <li>类和方法的职责单一</li>
  <li>多用异常返回非预期的结果,而不是返回值</li>
</ul>

<p><img src="/img/code_quality_improve_images/代码质量改善6.png" alt="代码质量改善6" />
<img src="/img/code_quality_improve_images/代码质量改善7.png" alt="代码质量改善7" />
<img src="/img/code_quality_improve_images/代码质量改善8.png" alt="代码质量改善8" /></p>

<ul>
  <li>让代码说明一切,而不是注释</li>
</ul>

<p><img src="/img/code_quality_improve_images/代码质量改善9.png" alt="代码质量改善9" /></p>

<h2 id="section-2">快捷操作</h2>

<h3 id="idea-">下面是一些idea 快捷键和操作</h3>

<ul>
  <li>Extract Method(Ctl+Alt+M)</li>
  <li>Pull Up Method(Pull Members Up/Down)</li>
  <li>Pull Up Method(SuperClass)</li>
  <li>Introduce Parameter Object(Parameter Object)</li>
  <li>代码格式化(Ctrl+Alt+L)</li>
</ul>

<h2 id="section-3">持续改善</h2>
<ul>
  <li>养成良好的编码习惯</li>
  <li>先思考和设计，再着手实现</li>
  <li>当然也要避免过度设计</li>
  <li>单元测试，测试先行</li>
</ul>

<blockquote>
  <ol>
    <li>编写测试代码最有用的时机是在开始编程之前</li>
    <li>编写测试代码其实就是在问自己：添加这个功能需要做些什么</li>
    <li>可以使你把注意力集中于接口而不是实现</li>
    <li>单元测试的诀窍：测试你认为最容易出错的地方</li>
  </ol>
</blockquote>

<ul>
  <li>不断重构</li>
</ul>

<p>重构：对软件内部结构的一种调整，目的是在不改变软件可观察行为的前提下，提高其可理解性，降低其修改成本。</p>

<p>重构本来就不应该特别拨出时间来做的事情，重构应该随时随地进行；不应该是为了重构而重构，之所以重构，是因为你想做别的事情，而重构可以帮助你把那些事情做好。</p>

<p>以下情况可以考虑重构代码</p>

<blockquote>
  <ol>
    <li>添加新的功能的时候</li>
    <li>修补错误的时候</li>
    <li>复审代码的时候</li>
  </ol>
</blockquote>

<p>一般的重构操作</p>

<blockquote>
  <ol>
    <li>重命名：对类，接口，方法，属性等重命名，以使得更易理解</li>
    <li>抽取代码：将方法内的一段代码抽取为另一个方法，以使得该段代码可以被其他方法调用，这是重构中很重要很常用的，此举可以极大的精炼代码，减少方法的代码行数</li>
    <li>封装字段：将类的某个字段转换成属性，可以更加合理的控制字段的访问</li>
    <li>抽取接口：将类的某些属性，方法抽取组成个接口，该类自动实现该接口</li>
    <li>提升方法内的局部变量为方法的参数：这主要是在写代码的过程中会使用到</li>
    <li>删除参数：将方法的一个或多个参数删掉</li>
    <li>重排参数：将方法的参数顺序重新排列
实际应用中，用的最多的是1、2、3，我们可以在写代码的时候有意识的运用代码重构，这样当我们完成编码时代码的质量也能得到保证。</li>
  </ol>
</blockquote>

<ul>
  <li>代码review</li>
</ul>

<blockquote>
  <ol>
    <li>结对代码相互review</li>
    <li>发现问题，修改问题</li>
  </ol>
</blockquote>

		
	</div>
</article>



	  </main>
		
		  <!-- Pagination links -->
      

	  </div>
	    
	    <!-- Footer -->
	    <footer><span>@2015 - Steven Lee</span></footer>

	    <!-- Script -->
      <script src="/js/main.js"></script>	


	</div>
</body>
</html>
